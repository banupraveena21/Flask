{% extends 'base.html' %}

{% block content %}
    <h1>Welcome to the Greeting App</h1>
    <p>Select a name and language to get a personalized greeting!</p>

    <form action="{{ url_for('greet', name='Guest') }}" method="get">
        <label for="name">Your Name:</label>
        <input type="text" name="name" id="name" required>

        <label for="lang">Choose Language:</label>
        <select name="lang" id="lang">
            <option value="en">English</option>
            <option value="es">Spanish</option>
            <option value="fr">French</option>
            <option value="de">German</option>
            <option value="jp">Japanese</option>
        </select>

        <button type="submit" onclick="event.preventDefault(); greetUser()">Greet Me</button>
    </form>

    <script>
        function greetUser() {
            const name = document.getElementById('name').value || 'Guest';
            const lang = document.getElementById('lang').value;
            window.location.href = `/greet/${encodeURIComponent(name)}?lang=${lang}`;
        }
    </script>
{% endblock %}
